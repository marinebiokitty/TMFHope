%%%%%
%%
%% This file sets up the Abil datatype and creates Abil macros.  These
%% are for abilities that characters may have.
%%
%%%%%

\DECLARESUBTYPE{Abil}{Element}
\PRESETS{Abil}{
  \F\MYtext	%% text of ability, read by user
  \F\MYeffect	%% effect text of ability, read by recipient(s)
  }


%%%%%
%% \ability{<name>}{<text>}{<effect>}
%%
%% \ability is a wrapper around \INSTANCE, useful for 1-shot abilities,
%% etc.
\newinstance{Abil}{\ability[3]}{
  \s\MYname{#1}\s\MYtext{#2}\s\MYeffect{#3}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NEW{Abil}{\aTest}{
  \s\MYname	{Test Ability}
  \s\MYtext	{You are a test.}
  \s\MYeffect	{This is a Test.}
  }

\NEW{Abil}{\aSpecial}{
  \s\MYname	{Special Powers}
  \s\MYtext	{You have special powers, as detailed in your \gTest{}
		greensheet.}
  \s\MYeffect	{I have special powers!}
  \s\MYgreens	{\gTest{}}
  \suite
  }

\NEW{Abil}{\aFiremansCarry}{
  \s\MYname	{Fireman's Carry}
  \s\MYtext	{You can carry a body as if it were two hands bulky.}
  \s\MYeffect	{I can carry this body well.}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


  
%% Basic DarkWater-style Martial Attack abilities


%% Everyone has these 3
\NEW{Abil}{\aAssist}{
  \s\MYname	{Assist}
  \s\MYtext	{You can assist someone else's attack.  You must be
		within ZoC of both the attacker and target.  Within two
		seconds of an attack, direct this at the attacker,
		saying ``\MYname'' and your CR.}
  \s\MYeffect	{I assist your attack.}
  }

\NEW{Abil}{\aKnockOut}{
  \s\MYname	{Knock Out}
  \s\MYtext	{You can knock someone out as an attack.  This requires
		a {\bf blunt} weapon.  Say ``\MYname'' and your CR.}
  \s\MYeffect	{I knock you out.}
  }

\NEW{Abil}{\aWound}{
  \s\MYname	{Wound}
  \s\MYtext	{You can wound someone as an attack.  This requires an
		{\bf edged} weapon, such as a knife.  Say ``\MYname'' and
		your CR.}
  \s\MYeffect	{I wound you.}
  }


%% the \basecombat macro can be prepended to the Char abils list
%% (in char-LIST.tex)
\def\basecombat{\aKnockOut{}\aWound{}\aAssist{}}

%% only some people have these
\NEW{Abil}{\aDisarm}{
  \s\MYname	{Disarm}
  \s\MYtext	{You can disarm one item from someone as an attack.  Say
		``\MYname'' and your CR.  Point at the item you want to
		disarm.  If the attack works, they must drop that item.}
  \s\MYeffect	{I disarm that item.}
  }

\NEW{Abil}{\aRestrain}{
  \s\MYname	{Restrain}
  \s\MYtext	{You can restrain someone as an attack.  Say ``\MYname''
		and your CR.  You may freely drag, attack, or (if you have
		a weapon) killing-blow them.  To do anything else, or if
		your health state changes, incant ``release'' and let them
		go.}
  \s\MYeffect	{I restrain you.  You are restrained until I incant
		``release.''}
  }
\NEW{Abil}{\aThrow}{
  \s\MYname	{Throw}
  \s\MYtext	{You can throw someone as an attack.  Say ``\MYname'' and
		your CR.  Point in the direction you want to throw them.}
  \s\MYeffect	{I throw you.  Go in the direction I point ten full steps
		or until you hit a wall or similar.}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NEW{Abil}{\aEngineering}{
  \s\MYname	{Engineering}
  \s\MYtext	{You can repair parts of the ship, assuming you and any assistants have the listed necessary supplies. This activity takes \textbf{6 minutes}, but having a second person helping (they do not need this ability) cuts the time to \textbf{3 minutes}. During this time, everyone helping must stay in that location, and may not engage in other activities (i.e.: reading other signs, engaging in combat, etc.) If either you or your assistant engage in another activity, the timer starts over. At the end of the time, consume the items that need to be consumed (The sign will tell you which ones), and switch signs (the signs will tell you which ones.)}
  \s\MYeffect	{You see me working with the ship’s systems.}
}

\NEW{Abil}{\aInvestigate}{
  \s\MYname	{Investigate}
  \s\MYtext	{Use this ability to investigate when a mem packet tells you to do. Find and read the appropriate sign, then start a 30 second timer. You may not take game actions other than talking for the duration. This represents your character investigating something related to the ship from this point.}
  \s\MYeffect	{I’m investigating something.}
}
 
\NEW{Abil}{\aFirstAid}{
  \s\MYname	{First Aid}
  \s\MYtext	{You may apply first aid to a wounded character. This immediately stops the bleeding and converts them to “knocked out” for the remainder of their timer. You must @user for the person you want to use this on.}
  \s\MYeffect	{You are no longer bleeding out from a wound. Instead you are knocked out. Keep the same timer going. You will wake up from knockout when the timer runs out.}
}

\NEW{Abil}{\aNegotiation}{
  \s\MYname	{Negotiate}
  \s\MYtext	{This ability allows you to stop combat for 3 minutes in the area you are in. Start a timer, and tell anyone who enters your space this. You carry the effect with you if you change locations. It may have special uses in other circumstances.}
  \s\MYeffect	{“Let’s all just calm down and talk about this like civilized people.” No combat is allowed in my location for 3 minutes.}
}

\NEW{Abil}{\aTruth}{
  \s\MYname	{Truth Telling}
  \s\MYtext	{You have a lot of experience spotting when someone is lying to you. Immediately after someone tells you something, you may use this ability on them to have them tell you (player to player) whether that thing they said was true to the best of their knowledge. Be sure to @ your target when you use this ability.}
  \s\MYeffect	{PM me and tell me player to player whether the last thing you told me is true to the best of your knowledge.}
}

%\NEW{Abil}{\aCalculate}{
  %\s\MYname	{Teleporter Technician}
  %\s\MYtext	{This ability allows you to install and uninstall teleporter power crystals in the Teleporter Control Consoles.}
  %\s\MYeffect	{You see me working with the teleporter power crystals.}
%}

\NEW{Abil}{\aThreat}{
  \s\MYname	{Threat Assessment}
  \s\MYtext	{You can assess whether something is a threat on sight. Some signs in game will tell you to trigger one of your ``Threat assessment'' packets because you have this ability. Some characters may also have you trigger packets because of this.}
  \s\MYeffect	{I am checking whether this is dangerous.}
}

\NEW{Abil}{\aEyesight}{
  \s\MYname	{Poor Eyesight}
  \s\MYtext	{(Physical limitation) Tasks requiring the engineering skill take you 2x as long unless someone else with the engineering skill is helping (engineering tasks take you 12 minutes by yourself, 6 with someone helping who *does not have* the engineering skill, and 3 minutes if the person helping \textbf{does have} the engineering skill. Additionally, you cannot initiate an attack on someone; you may still assist attacks and defends however (see combat section in the Rules Handout.) \textbf{You do not need to use this ability at any time, its effects exist at all times.}}
  \s\MYeffect	{I’m working on this.}
}

\NEW{Abil}{\aDefense}{
  \s\MYname	{Defensive Stance}
  \s\MYtext	{You are skilled in combat and can stand against 2 opponents instead of just 1 like most people. If 2 people attack you, you can use this ability in the text channel and tell people an attack against you with 2 people is unsuccessful. This ability does \textbf{not} give you any benefit to attacking, just defending.}
  \s\MYeffect	{I have combat training; you can't get me that easily.}
}

\NEW{Abil}{\aPractice}{
  \s\MYname	{Practice Ability}
  \s\MYtext	{This is a practice ability! The Playground Exercise will ask you to use it on someone. You can always use it on ``NPC1'' if no one else is set up in the server yet.}
  \s\MYeffect	{Hi! I'm practicing how to use an ability.}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
